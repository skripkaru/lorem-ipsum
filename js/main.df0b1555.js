!function(){var t={344:function(t,e){!function(t){"use strict";function e(t){return n(t)&&"function"==typeof t.from}function n(t){return"object"==typeof t&&"function"==typeof t.to}function i(t){t.parentElement.removeChild(t)}function s(t){return null!=t}function r(t){t.preventDefault()}function o(t){return t.filter((function(t){return!this[t]&&(this[t]=!0)}),{})}function a(t,e){return Math.round(t/e)*e}function l(t,e){var n=t.getBoundingClientRect(),i=t.ownerDocument,s=i.documentElement,r=v(i);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(r.x=0),e?n.top+r.y-s.clientTop:n.left+r.x-s.clientLeft}function c(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function u(t,e,n){n>0&&(f(t,e),setTimeout((function(){g(t,e)}),n))}function d(t){return Math.max(Math.min(t,100),0)}function p(t){return Array.isArray(t)?t:[t]}function h(t){var e=(t=String(t)).split(".");return e.length>1?e[1].length:0}function f(t,e){t.classList&&!/\s/.test(e)?t.classList.add(e):t.className+=" "+e}function g(t,e){t.classList&&!/\s/.test(e)?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function m(t,e){return t.classList?t.classList.contains(e):new RegExp("\\b"+e+"\\b").test(t.className)}function v(t){var e=void 0!==window.pageXOffset,n="CSS1Compat"===(t.compatMode||"");return{x:e?window.pageXOffset:n?t.documentElement.scrollLeft:t.body.scrollLeft,y:e?window.pageYOffset:n?t.documentElement.scrollTop:t.body.scrollTop}}function b(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function y(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}function w(){return window.CSS&&CSS.supports&&CSS.supports("touch-action","none")}function S(t,e){return 100/(e-t)}function x(t,e,n){return 100*e/(t[n+1]-t[n])}function O(t,e){return x(t,t[0]<0?e+Math.abs(t[0]):e-t[0],0)}function C(t,e){return e*(t[1]-t[0])/100+t[0]}function A(t,e){for(var n=1;t>=e[n];)n+=1;return n}function E(t,e,n){if(n>=t.slice(-1)[0])return 100;var i=A(n,t),s=t[i-1],r=t[i],o=e[i-1],a=e[i];return o+O([s,r],n)/S(o,a)}function _(t,e,n){if(n>=100)return t.slice(-1)[0];var i=A(n,e),s=t[i-1],r=t[i],o=e[i-1];return C([s,r],(n-o)*S(o,e[i]))}function k(t,e,n,i){if(100===i)return i;var s=A(i,t),r=t[s-1],o=t[s];return n?i-r>(o-r)/2?o:r:e[s-1]?t[s-1]+a(i-t[s-1],e[s-1]):i}var P,I;t.PipsMode=void 0,(I=t.PipsMode||(t.PipsMode={})).Range="range",I.Steps="steps",I.Positions="positions",I.Count="count",I.Values="values",t.PipsType=void 0,(P=t.PipsType||(t.PipsType={}))[P.None=-1]="None",P[P.NoValue=0]="NoValue",P[P.LargeValue=1]="LargeValue",P[P.SmallValue=2]="SmallValue";var L=function(){function t(t,e,n){var i;this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[n||!1],this.xNumSteps=[!1],this.snap=e;var s=[];for(Object.keys(t).forEach((function(e){s.push([p(t[e]),e])})),s.sort((function(t,e){return t[0][0]-e[0][0]})),i=0;i<s.length;i++)this.handleEntryPoint(s[i][1],s[i][0]);for(this.xNumSteps=this.xSteps.slice(0),i=0;i<this.xNumSteps.length;i++)this.handleStepPoint(i,this.xNumSteps[i])}return t.prototype.getDistance=function(t){for(var e=[],n=0;n<this.xNumSteps.length-1;n++)e[n]=x(this.xVal,t,n);return e},t.prototype.getAbsoluteDistance=function(t,e,n){var i,s=0;if(t<this.xPct[this.xPct.length-1])for(;t>this.xPct[s+1];)s++;else t===this.xPct[this.xPct.length-1]&&(s=this.xPct.length-2);n||t!==this.xPct[s+1]||s++,null===e&&(e=[]);var r=1,o=e[s],a=0,l=0,c=0,u=0;for(i=n?(t-this.xPct[s])/(this.xPct[s+1]-this.xPct[s]):(this.xPct[s+1]-t)/(this.xPct[s+1]-this.xPct[s]);o>0;)a=this.xPct[s+1+u]-this.xPct[s+u],e[s+u]*r+100-100*i>100?(l=a*i,r=(o-100*i)/e[s+u],i=1):(l=e[s+u]*a/100*r,r=0),n?(c-=l,this.xPct.length+u>=1&&u--):(c+=l,this.xPct.length-u>=1&&u++),o=e[s+u]*r;return t+c},t.prototype.toStepping=function(t){return t=E(this.xVal,this.xPct,t)},t.prototype.fromStepping=function(t){return _(this.xVal,this.xPct,t)},t.prototype.getStep=function(t){return t=k(this.xPct,this.xSteps,this.snap,t)},t.prototype.getDefaultStep=function(t,e,n){var i=A(t,this.xPct);return(100===t||e&&t===this.xPct[i-1])&&(i=Math.max(i-1,1)),(this.xVal[i]-this.xVal[i-1])/n},t.prototype.getNearbySteps=function(t){var e=A(t,this.xPct);return{stepBefore:{startValue:this.xVal[e-2],step:this.xNumSteps[e-2],highestStep:this.xHighestCompleteStep[e-2]},thisStep:{startValue:this.xVal[e-1],step:this.xNumSteps[e-1],highestStep:this.xHighestCompleteStep[e-1]},stepAfter:{startValue:this.xVal[e],step:this.xNumSteps[e],highestStep:this.xHighestCompleteStep[e]}}},t.prototype.countStepDecimals=function(){var t=this.xNumSteps.map(h);return Math.max.apply(null,t)},t.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},t.prototype.convert=function(t){return this.getStep(this.toStepping(t))},t.prototype.handleEntryPoint=function(t,e){var n;if(!c(n="min"===t?0:"max"===t?100:parseFloat(t))||!c(e[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(n),this.xVal.push(e[0]);var i=Number(e[1]);n?this.xSteps.push(!isNaN(i)&&i):isNaN(i)||(this.xSteps[0]=i),this.xHighestCompleteStep.push(0)},t.prototype.handleStepPoint=function(t,e){if(e)if(this.xVal[t]!==this.xVal[t+1]){this.xSteps[t]=x([this.xVal[t],this.xVal[t+1]],e,0)/S(this.xPct[t],this.xPct[t+1]);var n=(this.xVal[t+1]-this.xVal[t])/this.xNumSteps[t],i=Math.ceil(Number(n.toFixed(3))-1),s=this.xVal[t]+this.xNumSteps[t]*i;this.xHighestCompleteStep[t]=s}else this.xSteps[t]=this.xHighestCompleteStep[t]=this.xVal[t]},t}(),F={to:function(t){return void 0===t?"":t.toFixed(2)},from:Number},N={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},V={tooltips:".__tooltips",aria:".__aria"};function M(t,e){if(!c(e))throw new Error("noUiSlider: 'step' is not numeric.");t.singleStep=e}function T(t,e){if(!c(e))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");t.keyboardPageMultiplier=e}function j(t,e){if(!c(e))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");t.keyboardMultiplier=e}function D(t,e){if(!c(e))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");t.keyboardDefaultStep=e}function q(t,e){if("object"!=typeof e||Array.isArray(e))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===e.min||void 0===e.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");t.spectrum=new L(e,t.snap||!1,t.singleStep)}function H(t,e){if(e=p(e),!Array.isArray(e)||!e.length)throw new Error("noUiSlider: 'start' option is incorrect.");t.handles=e.length,t.start=e}function U(t,e){if("boolean"!=typeof e)throw new Error("noUiSlider: 'snap' option must be a boolean.");t.snap=e}function z(t,e){if("boolean"!=typeof e)throw new Error("noUiSlider: 'animate' option must be a boolean.");t.animate=e}function $(t,e){if("number"!=typeof e)throw new Error("noUiSlider: 'animationDuration' option must be a number.");t.animationDuration=e}function R(t,e){var n,i=[!1];if("lower"===e?e=[!0,!1]:"upper"===e&&(e=[!1,!0]),!0===e||!1===e){for(n=1;n<t.handles;n++)i.push(e);i.push(!1)}else{if(!Array.isArray(e)||!e.length||e.length!==t.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");i=e}t.connect=i}function B(t,e){switch(e){case"horizontal":t.ort=0;break;case"vertical":t.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function K(t,e){if(!c(e))throw new Error("noUiSlider: 'margin' option must be numeric.");0!==e&&(t.margin=t.spectrum.getDistance(e))}function Q(t,e){if(!c(e))throw new Error("noUiSlider: 'limit' option must be numeric.");if(t.limit=t.spectrum.getDistance(e),!t.limit||t.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function G(t,e){var n;if(!c(e)&&!Array.isArray(e))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(e)&&2!==e.length&&!c(e[0])&&!c(e[1]))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==e){for(Array.isArray(e)||(e=[e,e]),t.padding=[t.spectrum.getDistance(e[0]),t.spectrum.getDistance(e[1])],n=0;n<t.spectrum.xNumSteps.length-1;n++)if(t.padding[0][n]<0||t.padding[1][n]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var i=e[0]+e[1],s=t.spectrum.xVal[0];if(i/(t.spectrum.xVal[t.spectrum.xVal.length-1]-s)>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function X(t,e){switch(e){case"ltr":t.dir=0;break;case"rtl":t.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function Y(t,e){if("string"!=typeof e)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var n=e.indexOf("tap")>=0,i=e.indexOf("drag")>=0,s=e.indexOf("fixed")>=0,r=e.indexOf("snap")>=0,o=e.indexOf("hover")>=0,a=e.indexOf("unconstrained")>=0,l=e.indexOf("drag-all")>=0,c=e.indexOf("smooth-steps")>=0;if(s){if(2!==t.handles)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");K(t,t.start[1]-t.start[0])}if(a&&(t.margin||t.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");t.events={tap:n||r,drag:i,dragAll:l,smoothSteps:c,fixed:s,snap:r,hover:o,unconstrained:a}}function J(t,e){if(!1!==e)if(!0===e||n(e)){t.tooltips=[];for(var i=0;i<t.handles;i++)t.tooltips.push(e)}else{if((e=p(e)).length!==t.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");e.forEach((function(t){if("boolean"!=typeof t&&!n(t))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")})),t.tooltips=e}}function W(t,e){if(e.length!==t.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");t.handleAttributes=e}function Z(t,e){if(!n(e))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");t.ariaFormat=e}function tt(t,n){if(!e(n))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");t.format=n}function et(t,e){if("boolean"!=typeof e)throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");t.keyboardSupport=e}function nt(t,e){t.documentElement=e}function it(t,e){if("string"!=typeof e&&!1!==e)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");t.cssPrefix=e}function st(t,e){if("object"!=typeof e)throw new Error("noUiSlider: 'cssClasses' must be an object.");"string"==typeof t.cssPrefix?(t.cssClasses={},Object.keys(e).forEach((function(n){t.cssClasses[n]=t.cssPrefix+e[n]}))):t.cssClasses=e}function rt(t){var e={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:F,format:F},n={step:{r:!1,t:M},keyboardPageMultiplier:{r:!1,t:T},keyboardMultiplier:{r:!1,t:j},keyboardDefaultStep:{r:!1,t:D},start:{r:!0,t:H},connect:{r:!0,t:R},direction:{r:!0,t:X},snap:{r:!1,t:U},animate:{r:!1,t:z},animationDuration:{r:!1,t:$},range:{r:!0,t:q},orientation:{r:!1,t:B},margin:{r:!1,t:K},limit:{r:!1,t:Q},padding:{r:!1,t:G},behaviour:{r:!0,t:Y},ariaFormat:{r:!1,t:Z},format:{r:!1,t:tt},tooltips:{r:!1,t:J},keyboardSupport:{r:!0,t:et},documentElement:{r:!1,t:nt},cssPrefix:{r:!0,t:it},cssClasses:{r:!0,t:st},handleAttributes:{r:!1,t:W}},i={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:N,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};t.format&&!t.ariaFormat&&(t.ariaFormat=t.format),Object.keys(n).forEach((function(r){if(s(t[r])||void 0!==i[r])n[r].t(e,s(t[r])?t[r]:i[r]);else if(n[r].r)throw new Error("noUiSlider: '"+r+"' is required.")})),e.pips=t.pips;var r=document.createElement("div"),o=void 0!==r.style.msTransform,a=void 0!==r.style.transform;e.transformRule=a?"transform":o?"msTransform":"webkitTransform";var l=[["left","top"],["right","bottom"]];return e.style=l[e.dir][e.ort],e}function ot(e,n,a){var c,h,S,x,O,C=b(),A=w()&&y(),E=e,_=n.spectrum,k=[],P=[],I=[],L=0,F={},N=e.ownerDocument,M=n.documentElement||N.documentElement,T=N.body,j="rtl"===N.dir||1===n.ort?0:100;function D(t,e){var n=N.createElement("div");return e&&f(n,e),t.appendChild(n),n}function q(t,e){var i=D(t,n.cssClasses.origin),s=D(i,n.cssClasses.handle);if(D(s,n.cssClasses.touchArea),s.setAttribute("data-handle",String(e)),n.keyboardSupport&&(s.setAttribute("tabindex","0"),s.addEventListener("keydown",(function(t){return gt(t,e)}))),void 0!==n.handleAttributes){var r=n.handleAttributes[e];Object.keys(r).forEach((function(t){s.setAttribute(t,r[t])}))}return s.setAttribute("role","slider"),s.setAttribute("aria-orientation",n.ort?"vertical":"horizontal"),0===e?f(s,n.cssClasses.handleLower):e===n.handles-1&&f(s,n.cssClasses.handleUpper),i.handle=s,i}function H(t,e){return!!e&&D(t,n.cssClasses.connect)}function U(t,e){var i=D(e,n.cssClasses.connects);h=[],(S=[]).push(H(i,t[0]));for(var s=0;s<n.handles;s++)h.push(q(e,s)),I[s]=s,S.push(H(i,t[s+1]))}function z(t){return f(t,n.cssClasses.target),0===n.dir?f(t,n.cssClasses.ltr):f(t,n.cssClasses.rtl),0===n.ort?f(t,n.cssClasses.horizontal):f(t,n.cssClasses.vertical),f(t,"rtl"===getComputedStyle(t).direction?n.cssClasses.textDirectionRtl:n.cssClasses.textDirectionLtr),D(t,n.cssClasses.base)}function $(t,e){return!(!n.tooltips||!n.tooltips[e])&&D(t.firstChild,n.cssClasses.tooltip)}function R(){return E.hasAttribute("disabled")}function B(t){return h[t].hasAttribute("disabled")}function K(t){null!=t?(h[t].setAttribute("disabled",""),h[t].handle.removeAttribute("tabindex")):(E.setAttribute("disabled",""),h.forEach((function(t){t.handle.removeAttribute("tabindex")})))}function Q(t){null!=t?(h[t].removeAttribute("disabled"),h[t].handle.setAttribute("tabindex","0")):(E.removeAttribute("disabled"),h.forEach((function(t){t.removeAttribute("disabled"),t.handle.setAttribute("tabindex","0")})))}function G(){O&&(yt("update"+V.tooltips),O.forEach((function(t){t&&i(t)})),O=null)}function X(){G(),O=h.map($),vt("update"+V.tooltips,(function(t,e,i){if(O&&n.tooltips&&!1!==O[e]){var s=t[e];!0!==n.tooltips[e]&&(s=n.tooltips[e].to(i[e])),O[e].innerHTML=s}}))}function Y(){yt("update"+V.aria),vt("update"+V.aria,(function(t,e,i,s,r){I.forEach((function(t){var e=h[t],s=St(P,t,0,!0,!0,!0),o=St(P,t,100,!0,!0,!0),a=r[t],l=String(n.ariaFormat.to(i[t]));s=_.fromStepping(s).toFixed(1),o=_.fromStepping(o).toFixed(1),a=_.fromStepping(a).toFixed(1),e.children[0].setAttribute("aria-valuemin",s),e.children[0].setAttribute("aria-valuemax",o),e.children[0].setAttribute("aria-valuenow",a),e.children[0].setAttribute("aria-valuetext",l)}))}))}function J(e){if(e.mode===t.PipsMode.Range||e.mode===t.PipsMode.Steps)return _.xVal;if(e.mode===t.PipsMode.Count){if(e.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var n=e.values-1,i=100/n,s=[];n--;)s[n]=n*i;return s.push(100),W(s,e.stepped)}return e.mode===t.PipsMode.Positions?W(e.values,e.stepped):e.mode===t.PipsMode.Values?e.stepped?e.values.map((function(t){return _.fromStepping(_.getStep(_.toStepping(t)))})):e.values:[]}function W(t,e){return t.map((function(t){return _.fromStepping(e?_.getStep(t):t)}))}function Z(e){function n(t,e){return Number((t+e).toFixed(7))}var i=J(e),s={},r=_.xVal[0],a=_.xVal[_.xVal.length-1],l=!1,c=!1,u=0;return(i=o(i.slice().sort((function(t,e){return t-e}))))[0]!==r&&(i.unshift(r),l=!0),i[i.length-1]!==a&&(i.push(a),c=!0),i.forEach((function(r,o){var a,d,p,h,f,g,m,v,b,y,w=r,S=i[o+1],x=e.mode===t.PipsMode.Steps;for(x&&(a=_.xNumSteps[o]),a||(a=S-w),void 0===S&&(S=w),a=Math.max(a,1e-7),d=w;d<=S;d=n(d,a)){for(v=(f=(h=_.toStepping(d))-u)/(e.density||1),y=f/(b=Math.round(v)),p=1;p<=b;p+=1)s[(g=u+p*y).toFixed(5)]=[_.fromStepping(g),0];m=i.indexOf(d)>-1?t.PipsType.LargeValue:x?t.PipsType.SmallValue:t.PipsType.NoValue,!o&&l&&d!==S&&(m=0),d===S&&c||(s[h.toFixed(5)]=[d,m]),u=h}})),s}function tt(e,i,s){var r,o,a=N.createElement("div"),l=((r={})[t.PipsType.None]="",r[t.PipsType.NoValue]=n.cssClasses.valueNormal,r[t.PipsType.LargeValue]=n.cssClasses.valueLarge,r[t.PipsType.SmallValue]=n.cssClasses.valueSub,r),c=((o={})[t.PipsType.None]="",o[t.PipsType.NoValue]=n.cssClasses.markerNormal,o[t.PipsType.LargeValue]=n.cssClasses.markerLarge,o[t.PipsType.SmallValue]=n.cssClasses.markerSub,o),u=[n.cssClasses.valueHorizontal,n.cssClasses.valueVertical],d=[n.cssClasses.markerHorizontal,n.cssClasses.markerVertical];function p(t,e){var i=e===n.cssClasses.value,s=i?l:c;return e+" "+(i?u:d)[n.ort]+" "+s[t]}function h(e,r,o){if((o=i?i(r,o):o)!==t.PipsType.None){var l=D(a,!1);l.className=p(o,n.cssClasses.marker),l.style[n.style]=e+"%",o>t.PipsType.NoValue&&((l=D(a,!1)).className=p(o,n.cssClasses.value),l.setAttribute("data-value",String(r)),l.style[n.style]=e+"%",l.innerHTML=String(s.to(r)))}}return f(a,n.cssClasses.pips),f(a,0===n.ort?n.cssClasses.pipsHorizontal:n.cssClasses.pipsVertical),Object.keys(e).forEach((function(t){h(t,e[t][0],e[t][1])})),a}function et(){x&&(i(x),x=null)}function nt(t){et();var e=Z(t),n=t.filter,i=t.format||{to:function(t){return String(Math.round(t))}};return x=E.appendChild(tt(e,n,i))}function it(){var t=c.getBoundingClientRect(),e="offset"+["Width","Height"][n.ort];return 0===n.ort?t.width||c[e]:t.height||c[e]}function st(t,e,i,s){var r=function(r){var o=ot(r,s.pageOffset,s.target||e);return!!o&&!(R()&&!s.doNotReject)&&!(m(E,n.cssClasses.tap)&&!s.doNotReject)&&!(t===C.start&&void 0!==o.buttons&&o.buttons>1)&&(!s.hover||!o.buttons)&&(A||o.preventDefault(),o.calcPoint=o.points[n.ort],void i(o,s))},o=[];return t.split(" ").forEach((function(t){e.addEventListener(t,r,!!A&&{passive:!0}),o.push([t,r])})),o}function ot(t,e,n){var i=0===t.type.indexOf("touch"),s=0===t.type.indexOf("mouse"),r=0===t.type.indexOf("pointer"),o=0,a=0;if(0===t.type.indexOf("MSPointer")&&(r=!0),"mousedown"===t.type&&!t.buttons&&!t.touches)return!1;if(i){var l=function(e){var i=e.target;return i===n||n.contains(i)||t.composed&&t.composedPath().shift()===n};if("touchstart"===t.type){var c=Array.prototype.filter.call(t.touches,l);if(c.length>1)return!1;o=c[0].pageX,a=c[0].pageY}else{var u=Array.prototype.find.call(t.changedTouches,l);if(!u)return!1;o=u.pageX,a=u.pageY}}return e=e||v(N),(s||r)&&(o=t.clientX+e.x,a=t.clientY+e.y),t.pageOffset=e,t.points=[o,a],t.cursor=s||r,t}function at(t){var e=100*(t-l(c,n.ort))/it();return e=d(e),n.dir?100-e:e}function lt(t){var e=100,n=!1;return h.forEach((function(i,s){if(!B(s)){var r=P[s],o=Math.abs(r-t);(o<e||o<=e&&t>r||100===o&&100===e)&&(n=s,e=o)}})),n}function ct(t,e){"mouseout"===t.type&&"HTML"===t.target.nodeName&&null===t.relatedTarget&&dt(t,e)}function ut(t,e){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===t.buttons&&0!==e.buttonsProperty)return dt(t,e);var i=(n.dir?-1:1)*(t.calcPoint-e.startCalcPoint);Ot(i>0,100*i/e.baseSize,e.locations,e.handleNumbers,e.connect)}function dt(t,e){e.handle&&(g(e.handle,n.cssClasses.active),L-=1),e.listeners.forEach((function(t){M.removeEventListener(t[0],t[1])})),0===L&&(g(E,n.cssClasses.drag),Et(),t.cursor&&(T.style.cursor="",T.removeEventListener("selectstart",r))),n.events.smoothSteps&&(e.handleNumbers.forEach((function(t){_t(t,P[t],!0,!0,!1,!1)})),e.handleNumbers.forEach((function(t){wt("update",t)}))),e.handleNumbers.forEach((function(t){wt("change",t),wt("set",t),wt("end",t)}))}function pt(t,e){if(!e.handleNumbers.some(B)){var i;1===e.handleNumbers.length&&(i=h[e.handleNumbers[0]].children[0],L+=1,f(i,n.cssClasses.active)),t.stopPropagation();var s=[],o=st(C.move,M,ut,{target:t.target,handle:i,connect:e.connect,listeners:s,startCalcPoint:t.calcPoint,baseSize:it(),pageOffset:t.pageOffset,handleNumbers:e.handleNumbers,buttonsProperty:t.buttons,locations:P.slice()}),a=st(C.end,M,dt,{target:t.target,handle:i,listeners:s,doNotReject:!0,handleNumbers:e.handleNumbers}),l=st("mouseout",M,ct,{target:t.target,handle:i,listeners:s,doNotReject:!0,handleNumbers:e.handleNumbers});s.push.apply(s,o.concat(a,l)),t.cursor&&(T.style.cursor=getComputedStyle(t.target).cursor,h.length>1&&f(E,n.cssClasses.drag),T.addEventListener("selectstart",r,!1)),e.handleNumbers.forEach((function(t){wt("start",t)}))}}function ht(t){t.stopPropagation();var e=at(t.calcPoint),i=lt(e);!1!==i&&(n.events.snap||u(E,n.cssClasses.tap,n.animationDuration),_t(i,e,!0,!0),Et(),wt("slide",i,!0),wt("update",i,!0),n.events.snap?pt(t,{handleNumbers:[i]}):(wt("change",i,!0),wt("set",i,!0)))}function ft(t){var e=at(t.calcPoint),n=_.getStep(e),i=_.fromStepping(n);Object.keys(F).forEach((function(t){"hover"===t.split(".")[0]&&F[t].forEach((function(t){t.call(qt,i)}))}))}function gt(t,e){if(R()||B(e))return!1;var i=["Left","Right"],s=["Down","Up"],r=["PageDown","PageUp"],o=["Home","End"];n.dir&&!n.ort?i.reverse():n.ort&&!n.dir&&(s.reverse(),r.reverse());var a,l=t.key.replace("Arrow",""),c=l===r[0],u=l===r[1],d=l===s[0]||l===i[0]||c,p=l===s[1]||l===i[1]||u,h=l===o[0],f=l===o[1];if(!(d||p||h||f))return!0;if(t.preventDefault(),p||d){var g=d?0:1,m=Mt(e)[g];if(null===m)return!1;!1===m&&(m=_.getDefaultStep(P[e],d,n.keyboardDefaultStep)),m*=u||c?n.keyboardPageMultiplier:n.keyboardMultiplier,m=Math.max(m,1e-7),m*=d?-1:1,a=k[e]+m}else a=f?n.spectrum.xVal[n.spectrum.xVal.length-1]:n.spectrum.xVal[0];return _t(e,_.toStepping(a),!0,!0),wt("slide",e),wt("update",e),wt("change",e),wt("set",e),!1}function mt(t){t.fixed||h.forEach((function(t,e){st(C.start,t.children[0],pt,{handleNumbers:[e]})})),t.tap&&st(C.start,c,ht,{}),t.hover&&st(C.move,c,ft,{hover:!0}),t.drag&&S.forEach((function(e,i){if(!1!==e&&0!==i&&i!==S.length-1){var s=h[i-1],r=h[i],o=[e],a=[s,r],l=[i-1,i];f(e,n.cssClasses.draggable),t.fixed&&(o.push(s.children[0]),o.push(r.children[0])),t.dragAll&&(a=h,l=I),o.forEach((function(t){st(C.start,t,pt,{handles:a,handleNumbers:l,connect:e})}))}}))}function vt(t,e){F[t]=F[t]||[],F[t].push(e),"update"===t.split(".")[0]&&h.forEach((function(t,e){wt("update",e)}))}function bt(t){return t===V.aria||t===V.tooltips}function yt(t){var e=t&&t.split(".")[0],n=e?t.substring(e.length):t;Object.keys(F).forEach((function(t){var i=t.split(".")[0],s=t.substring(i.length);e&&e!==i||n&&n!==s||bt(s)&&n!==s||delete F[t]}))}function wt(t,e,i){Object.keys(F).forEach((function(s){var r=s.split(".")[0];t===r&&F[s].forEach((function(t){t.call(qt,k.map(n.format.to),e,k.slice(),i||!1,P.slice(),qt)}))}))}function St(t,e,i,s,r,o,a){var l;return h.length>1&&!n.events.unconstrained&&(s&&e>0&&(l=_.getAbsoluteDistance(t[e-1],n.margin,!1),i=Math.max(i,l)),r&&e<h.length-1&&(l=_.getAbsoluteDistance(t[e+1],n.margin,!0),i=Math.min(i,l))),h.length>1&&n.limit&&(s&&e>0&&(l=_.getAbsoluteDistance(t[e-1],n.limit,!1),i=Math.min(i,l)),r&&e<h.length-1&&(l=_.getAbsoluteDistance(t[e+1],n.limit,!0),i=Math.max(i,l))),n.padding&&(0===e&&(l=_.getAbsoluteDistance(0,n.padding[0],!1),i=Math.max(i,l)),e===h.length-1&&(l=_.getAbsoluteDistance(100,n.padding[1],!0),i=Math.min(i,l))),a||(i=_.getStep(i)),!((i=d(i))===t[e]&&!o)&&i}function xt(t,e){var i=n.ort;return(i?e:t)+", "+(i?t:e)}function Ot(t,e,i,s,r){var o=i.slice(),a=s[0],l=n.events.smoothSteps,c=[!t,t],u=[t,!t];s=s.slice(),t&&s.reverse(),s.length>1?s.forEach((function(t,n){var i=St(o,t,o[t]+e,c[n],u[n],!1,l);!1===i?e=0:(e=i-o[t],o[t]=i)})):c=u=[!0];var d=!1;s.forEach((function(t,n){d=_t(t,i[t]+e,c[n],u[n],!1,l)||d})),d&&(s.forEach((function(t){wt("update",t),wt("slide",t)})),null!=r&&wt("drag",a))}function Ct(t,e){return n.dir?100-t-e:t}function At(t,e){P[t]=e,k[t]=_.fromStepping(e);var i="translate("+xt(Ct(e,0)-j+"%","0")+")";h[t].style[n.transformRule]=i,kt(t),kt(t+1)}function Et(){I.forEach((function(t){var e=P[t]>50?-1:1,n=3+(h.length+e*t);h[t].style.zIndex=String(n)}))}function _t(t,e,n,i,s,r){return s||(e=St(P,t,e,n,i,!1,r)),!1!==e&&(At(t,e),!0)}function kt(t){if(S[t]){var e=0,i=100;0!==t&&(e=P[t-1]),t!==S.length-1&&(i=P[t]);var s=i-e,r="translate("+xt(Ct(e,s)+"%","0")+")",o="scale("+xt(s/100,"1")+")";S[t].style[n.transformRule]=r+" "+o}}function Pt(t,e){return null===t||!1===t||void 0===t?P[e]:("number"==typeof t&&(t=String(t)),!1!==(t=n.format.from(t))&&(t=_.toStepping(t)),!1===t||isNaN(t)?P[e]:t)}function It(t,e,i){var s=p(t),r=void 0===P[0];e=void 0===e||e,n.animate&&!r&&u(E,n.cssClasses.tap,n.animationDuration),I.forEach((function(t){_t(t,Pt(s[t],t),!0,!1,i)}));var o=1===I.length?0:1;if(r&&_.hasNoSize()&&(i=!0,P[0]=0,I.length>1)){var a=100/(I.length-1);I.forEach((function(t){P[t]=t*a}))}for(;o<I.length;++o)I.forEach((function(t){_t(t,P[t],!0,!0,i)}));Et(),I.forEach((function(t){wt("update",t),null!==s[t]&&e&&wt("set",t)}))}function Lt(t){It(n.start,t)}function Ft(t,e,n,i){if(!((t=Number(t))>=0&&t<I.length))throw new Error("noUiSlider: invalid handle number, got: "+t);_t(t,Pt(e,t),!0,!0,i),wt("update",t),n&&wt("set",t)}function Nt(t){if(void 0===t&&(t=!1),t)return 1===k.length?k[0]:k.slice(0);var e=k.map(n.format.to);return 1===e.length?e[0]:e}function Vt(){for(yt(V.aria),yt(V.tooltips),Object.keys(n.cssClasses).forEach((function(t){g(E,n.cssClasses[t])}));E.firstChild;)E.removeChild(E.firstChild);delete E.noUiSlider}function Mt(t){var e=P[t],i=_.getNearbySteps(e),s=k[t],r=i.thisStep.step,o=null;if(n.snap)return[s-i.stepBefore.startValue||null,i.stepAfter.startValue-s||null];!1!==r&&s+r>i.stepAfter.startValue&&(r=i.stepAfter.startValue-s),o=s>i.thisStep.startValue?i.thisStep.step:!1!==i.stepBefore.step&&s-i.stepBefore.highestStep,100===e?r=null:0===e&&(o=null);var a=_.countStepDecimals();return null!==r&&!1!==r&&(r=Number(r.toFixed(a))),null!==o&&!1!==o&&(o=Number(o.toFixed(a))),[o,r]}function Tt(){return I.map(Mt)}function jt(t,e){var i=Nt(),r=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];r.forEach((function(e){void 0!==t[e]&&(a[e]=t[e])}));var o=rt(a);r.forEach((function(e){void 0!==t[e]&&(n[e]=o[e])})),_=o.spectrum,n.margin=o.margin,n.limit=o.limit,n.padding=o.padding,n.pips?nt(n.pips):et(),n.tooltips?X():G(),P=[],It(s(t.start)?t.start:i,e)}function Dt(){c=z(E),U(n.connect,c),mt(n.events),It(n.start),n.pips&&nt(n.pips),n.tooltips&&X(),Y()}Dt();var qt={destroy:Vt,steps:Tt,on:vt,off:yt,get:Nt,set:It,setHandle:Ft,reset:Lt,disable:K,enable:Q,__moveHandles:function(t,e,n){Ot(t,e,P,n)},options:a,updateOptions:jt,target:E,removePips:et,removeTooltips:G,getPositions:function(){return P.slice()},getTooltips:function(){return O},getOrigins:function(){return h},pips:nt};return qt}function at(t,e){if(!t||!t.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+t);if(t.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var n=ot(t,rt(e),e);return t.noUiSlider=n,n}var lt={__spectrum:L,cssClasses:N,create:at};t.create=at,t.cssClasses=N,t.default=lt,Object.defineProperty(t,"__esModule",{value:!0})}(e)},945:function(t){t.exports=function(){"use strict";function t(t,e){t.split(/\s+/).forEach((t=>{e(t)}))}class e{constructor(){this._events=void 0,this._events={}}on(e,n){t(e,(t=>{const e=this._events[t]||[];e.push(n),this._events[t]=e}))}off(e,n){var i=arguments.length;0!==i?t(e,(t=>{if(1===i)return void delete this._events[t];const e=this._events[t];void 0!==e&&(e.splice(e.indexOf(n),1),this._events[t]=e)})):this._events={}}trigger(e,...n){var i=this;t(e,(t=>{const e=i._events[t];void 0!==e&&e.forEach((t=>{t.apply(i,n)}))}))}}function n(t){return t.plugins={},class extends t{constructor(...t){super(...t),this.plugins={names:[],settings:{},requested:{},loaded:{}}}static define(e,n){t.plugins[e]={name:e,fn:n}}initializePlugins(t){var e,n;const i=this,s=[];if(Array.isArray(t))t.forEach((t=>{"string"==typeof t?s.push(t):(i.plugins.settings[t.name]=t.options,s.push(t.name))}));else if(t)for(e in t)t.hasOwnProperty(e)&&(i.plugins.settings[e]=t[e],s.push(e));for(;n=s.shift();)i.require(n)}loadPlugin(e){var n=this,i=n.plugins,s=t.plugins[e];if(!t.plugins.hasOwnProperty(e))throw new Error('Unable to find "'+e+'" plugin');i.requested[e]=!0,i.loaded[e]=s.fn.apply(n,[n.plugins.settings[e]||{}]),i.names.push(e)}require(t){var e=this,n=e.plugins;if(!e.plugins.loaded.hasOwnProperty(t)){if(n.requested[t])throw new Error('Plugin has circular dependency ("'+t+'")');e.loadPlugin(t)}return n.loaded[t]}}}
/*! @orchidjs/unicode-variants | https://github.com/orchidjs/unicode-variants | Apache License (v2) */const i=t=>(t=t.filter(Boolean)).length<2?t[0]||"":1==l(t)?"["+t.join("")+"]":"(?:"+t.join("|")+")",s=t=>{if(!o(t))return t.join("");let e="",n=0;const i=()=>{n>1&&(e+="{"+n+"}")};return t.forEach(((s,r)=>{s!==t[r-1]?(i(),e+=s,n=1):n++})),i(),e},r=t=>{let e=u(t);return i(e)},o=t=>new Set(t).size!==t.length,a=t=>(t+"").replace(/([\$\(\)\*\+\.\?\[\]\^\{\|\}\\])/gu,"\\$1"),l=t=>t.reduce(((t,e)=>Math.max(t,c(e))),0),c=t=>u(t).length,u=t=>Array.from(t)
/*! @orchidjs/unicode-variants | https://github.com/orchidjs/unicode-variants | Apache License (v2) */,d=t=>{if(1===t.length)return[[t]];let e=[];const n=t.substring(1);return d(n).forEach((function(n){let i=n.slice(0);i[0]=t.charAt(0)+i[0],e.push(i),i=n.slice(0),i.unshift(t.charAt(0)),e.push(i)})),e},p=[[0,65535]],h="[̀-ͯ·ʾʼ]";let f,g;const m=3,v={},b={"/":"⁄∕",0:"߀",a:"ⱥɐɑ",aa:"ꜳ",ae:"æǽǣ",ao:"ꜵ",au:"ꜷ",av:"ꜹꜻ",ay:"ꜽ",b:"ƀɓƃ",c:"ꜿƈȼↄ",d:"đɗɖᴅƌꮷԁɦ",e:"ɛǝᴇɇ",f:"ꝼƒ",g:"ǥɠꞡᵹꝿɢ",h:"ħⱨⱶɥ",i:"ɨı",j:"ɉȷ",k:"ƙⱪꝁꝃꝅꞣ",l:"łƚɫⱡꝉꝇꞁɭ",m:"ɱɯϻ",n:"ꞥƞɲꞑᴎлԉ",o:"øǿɔɵꝋꝍᴑ",oe:"œ",oi:"ƣ",oo:"ꝏ",ou:"ȣ",p:"ƥᵽꝑꝓꝕρ",q:"ꝗꝙɋ",r:"ɍɽꝛꞧꞃ",s:"ßȿꞩꞅʂ",t:"ŧƭʈⱦꞇ",th:"þ",tz:"ꜩ",u:"ʉ",v:"ʋꝟʌ",vy:"ꝡ",w:"ⱳ",y:"ƴɏỿ",z:"ƶȥɀⱬꝣ",hv:"ƕ"};for(let t in b){let e=b[t]||"";for(let n=0;n<e.length;n++){let i=e.substring(n,n+1);v[i]=t}}const y=new RegExp(Object.keys(v).join("|")+"|"+h,"gu"),w=t=>{void 0===f&&(f=E(t||p))},S=(t,e="NFKD")=>t.normalize(e),x=t=>u(t).reduce(((t,e)=>t+O(e)),""),O=t=>(t=S(t).toLowerCase().replace(y,(t=>v[t]||"")),S(t,"NFC"));function*C(t){for(const[e,n]of t)for(let t=e;t<=n;t++){let e=String.fromCharCode(t),n=x(e);n!=e.toLowerCase()&&(n.length>m||0!=n.length&&(yield{folded:n,composed:e,code_point:t}))}}const A=t=>{const e={},n=(t,n)=>{const i=e[t]||new Set,s=new RegExp("^"+r(i)+"$","iu");n.match(s)||(i.add(a(n)),e[t]=i)};for(let e of C(t))n(e.folded,e.folded),n(e.folded,e.composed);return e},E=t=>{const e=A(t),n={};let s=[];for(let t in e){let i=e[t];i&&(n[t]=r(i)),t.length>1&&s.push(a(t))}s.sort(((t,e)=>e.length-t.length));const o=i(s);return g=new RegExp("^"+o,"u"),n},_=(t,e=1)=>{let n=0;return t=t.map((t=>(f[t]&&(n+=t.length),f[t]||t))),n>=e?s(t):""},k=(t,e=1)=>(e=Math.max(e,t.length-1),i(d(t).map((t=>_(t,e))))),P=(t,e=!0)=>{let n=t.length>1?1:0;return i(t.map((t=>{let i=[];const r=e?t.length():t.length()-1;for(let e=0;e<r;e++)i.push(k(t.substrs[e]||"",n));return s(i)})))},I=(t,e)=>{for(const n of e){if(n.start!=t.start||n.end!=t.end)continue;if(n.substrs.join("")!==t.substrs.join(""))continue;let e=t.parts;const i=t=>{for(const n of e){if(n.start===t.start&&n.substr===t.substr)return!1;if(1!=t.length&&1!=n.length){if(t.start<n.start&&t.end>n.start)return!0;if(n.start<t.start&&n.end>t.start)return!0}}return!1};if(!(n.parts.filter(i).length>0))return!0}return!1};class L{constructor(){this.parts=[],this.substrs=[],this.start=0,this.end=0}add(t){t&&(this.parts.push(t),this.substrs.push(t.substr),this.start=Math.min(t.start,this.start),this.end=Math.max(t.end,this.end))}last(){return this.parts[this.parts.length-1]}length(){return this.parts.length}clone(t,e){let n=new L,i=JSON.parse(JSON.stringify(this.parts)),s=i.pop();for(const t of i)n.add(t);let r=e.substr.substring(0,t-s.start),o=r.length;return n.add({start:s.start,end:s.start+o,length:o,substr:r}),n}}const F=t=>{w(),t=x(t);let e="",n=[new L];for(let i=0;i<t.length;i++){let s=t.substring(i).match(g);const r=t.substring(i,i+1),o=s?s[0]:null;let a=[],l=new Set;for(const t of n){const e=t.last();if(!e||1==e.length||e.end<=i)if(o){const e=o.length;t.add({start:i,end:i+e,length:e,substr:o}),l.add("1")}else t.add({start:i,end:i+1,length:1,substr:r}),l.add("2");else if(o){let n=t.clone(i,e);const s=o.length;n.add({start:i,end:i+s,length:s,substr:o}),a.push(n)}else l.add("3")}if(a.length>0){a=a.sort(((t,e)=>t.length()-e.length()));for(let t of a)I(t,n)||n.push(t)}else if(i>0&&1==l.size&&!l.has("3")){e+=P(n,!1);let t=new L;const i=n[0];i&&t.add(i.last()),n=[t]}}return e+=P(n,!0),e},N=(t,e)=>{if(t)return t[e]},V=(t,e)=>{if(t){for(var n,i=e.split(".");(n=i.shift())&&(t=t[n]););return t}},M=(t,e,n)=>{var i,s;return t?(t+="",null==e.regex||-1===(s=t.search(e.regex))?0:(i=e.string.length/t.length,0===s&&(i+=.5),i*n)):0},T=(t,e)=>{var n=t[e];if("function"==typeof n)return n;n&&!Array.isArray(n)&&(t[e]=[n])},j=(t,e)=>{if(Array.isArray(t))t.forEach(e);else for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)},D=(t,e)=>"number"==typeof t&&"number"==typeof e?t>e?1:t<e?-1:0:(t=x(t+"").toLowerCase())>(e=x(e+"").toLowerCase())?1:e>t?-1:0;
/*! sifter.js | https://github.com/orchidjs/sifter.js | Apache License (v2) */
/*! sifter.js | https://github.com/orchidjs/sifter.js | Apache License (v2) */
class q{constructor(t,e){this.items=void 0,this.settings=void 0,this.items=t,this.settings=e||{diacritics:!0}}tokenize(t,e,n){if(!t||!t.length)return[];const i=[],s=t.split(/\s+/);var r;return n&&(r=new RegExp("^("+Object.keys(n).map(a).join("|")+"):(.*)$")),s.forEach((t=>{let n,s=null,o=null;r&&(n=t.match(r))&&(s=n[1],t=n[2]),t.length>0&&(o=this.settings.diacritics?F(t)||null:a(t),o&&e&&(o="\\b"+o)),i.push({string:t,regex:o?new RegExp(o,"iu"):null,field:s})})),i}getScoreFunction(t,e){var n=this.prepareSearch(t,e);return this._getScoreFunction(n)}_getScoreFunction(t){const e=t.tokens,n=e.length;if(!n)return function(){return 0};const i=t.options.fields,s=t.weights,r=i.length,o=t.getAttrFn;if(!r)return function(){return 1};const a=1===r?function(t,e){const n=i[0].field;return M(o(e,n),t,s[n]||1)}:function(t,e){var n=0;if(t.field){const i=o(e,t.field);!t.regex&&i?n+=1/r:n+=M(i,t,1)}else j(s,((i,s)=>{n+=M(o(e,s),t,i)}));return n/r};return 1===n?function(t){return a(e[0],t)}:"and"===t.options.conjunction?function(t){var i,s=0;for(let n of e){if((i=a(n,t))<=0)return 0;s+=i}return s/n}:function(t){var i=0;return j(e,(e=>{i+=a(e,t)})),i/n}}getSortFunction(t,e){var n=this.prepareSearch(t,e);return this._getSortFunction(n)}_getSortFunction(t){var e,n=[];const i=this,s=t.options,r=!t.query&&s.sort_empty?s.sort_empty:s.sort;if("function"==typeof r)return r.bind(this);const o=function(e,n){return"$score"===e?n.score:t.getAttrFn(i.items[n.id],e)};if(r)for(let e of r)(t.query||"$score"!==e.field)&&n.push(e);if(t.query){e=!0;for(let t of n)if("$score"===t.field){e=!1;break}e&&n.unshift({field:"$score",direction:"desc"})}else n=n.filter((t=>"$score"!==t.field));return n.length?function(t,e){var i,s;for(let r of n)if(s=r.field,i=("desc"===r.direction?-1:1)*D(o(s,t),o(s,e)))return i;return 0}:null}prepareSearch(t,e){const n={};var i=Object.assign({},e);if(T(i,"sort"),T(i,"sort_empty"),i.fields){T(i,"fields");const t=[];i.fields.forEach((e=>{"string"==typeof e&&(e={field:e,weight:1}),t.push(e),n[e.field]="weight"in e?e.weight:1})),i.fields=t}return{options:i,query:t.toLowerCase().trim(),tokens:this.tokenize(t,i.respect_word_boundaries,n),total:0,items:[],weights:n,getAttrFn:i.nesting?V:N}}search(t,e){var n,i,s=this;i=this.prepareSearch(t,e),e=i.options,t=i.query;const r=e.score||s._getScoreFunction(i);t.length?j(s.items,((t,s)=>{n=r(t),(!1===e.filter||n>0)&&i.items.push({score:n,id:s})})):j(s.items,((t,e)=>{i.items.push({score:1,id:e})}));const o=s._getSortFunction(i);return o&&i.items.sort(o),i.total=i.items.length,"number"==typeof e.limit&&(i.items=i.items.slice(0,e.limit)),i}}const H=(t,e)=>{if(Array.isArray(t))t.forEach(e);else for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)},U=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(z(t)){var e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstChild}return document.querySelector(t)},z=t=>"string"==typeof t&&t.indexOf("<")>-1,R=t=>t.replace(/['"\\]/g,"\\$&"),B=(t,e)=>{var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!1),t.dispatchEvent(n)},K=(t,e)=>{Object.assign(t.style,e)},Q=(t,...e)=>{var n=X(e);(t=Y(t)).map((t=>{n.map((e=>{t.classList.add(e)}))}))},G=(t,...e)=>{var n=X(e);(t=Y(t)).map((t=>{n.map((e=>{t.classList.remove(e)}))}))},X=t=>{var e=[];return H(t,(t=>{"string"==typeof t&&(t=t.trim().split(/[\11\12\14\15\40]/)),Array.isArray(t)&&(e=e.concat(t))})),e.filter(Boolean)},Y=t=>(Array.isArray(t)||(t=[t]),t),J=(t,e,n)=>{if(!n||n.contains(t))for(;t&&t.matches;){if(t.matches(e))return t;t=t.parentNode}},W=(t,e=0)=>e>0?t[t.length-1]:t[0],Z=t=>0===Object.keys(t).length,tt=(t,e)=>{if(!t)return-1;e=e||t.nodeName;for(var n=0;t=t.previousElementSibling;)t.matches(e)&&n++;return n},et=(t,e)=>{H(e,((e,n)=>{null==e?t.removeAttribute(n):t.setAttribute(n,""+e)}))},nt=(t,e)=>{t.parentNode&&t.parentNode.replaceChild(e,t)},it=(t,e)=>{if(null===e)return;if("string"==typeof e){if(!e.length)return;e=new RegExp(e,"i")}const n=t=>{var n=t.data.match(e);if(n&&t.data.length>0){var i=document.createElement("span");i.className="highlight";var s=t.splitText(n.index);s.splitText(n[0].length);var r=s.cloneNode(!0);return i.appendChild(r),nt(s,i),1}return 0},i=t=>{1!==t.nodeType||!t.childNodes||/(script|style)/i.test(t.tagName)||"highlight"===t.className&&"SPAN"===t.tagName||Array.from(t.childNodes).forEach((t=>{s(t)}))},s=t=>3===t.nodeType?n(t):(i(t),0);s(t)},st=t=>{var e=t.querySelectorAll("span.highlight");Array.prototype.forEach.call(e,(function(t){var e=t.parentNode;e.replaceChild(t.firstChild,t),e.normalize()}))},rt=65,ot=13,at=27,lt=37,ct=38,ut=39,dt=40,pt=8,ht=46,ft=9,gt="undefined"!=typeof navigator&&/Mac/.test(navigator.userAgent)?"metaKey":"ctrlKey";var mt={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:null,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,shouldOpen:null,maxOptions:50,maxItems:null,hideSelected:null,duplicates:!1,addPrecedence:!1,selectOnTab:!1,preload:null,allowEmptyOption:!1,loadThrottle:300,loadingClass:"loading",dataAttr:null,optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"ts-wrapper",controlClass:"ts-control",dropdownClass:"ts-dropdown",dropdownContentClass:"ts-dropdown-content",itemClass:"item",optionClass:"option",dropdownParent:null,controlInput:'<input type="text" autocomplete="off" size="1" />',copyClassesToDropdown:!1,placeholder:null,hidePlaceholder:null,shouldLoad:function(t){return t.length>0},render:{}};const vt=t=>null==t?null:bt(t),bt=t=>"boolean"==typeof t?t?"1":"0":t+"",yt=t=>(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),wt=(t,e)=>{var n;return function(i,s){var r=this;n&&(r.loading=Math.max(r.loading-1,0),clearTimeout(n)),n=setTimeout((function(){n=null,r.loadedSearches[i]=!0,t.call(r,i,s)}),e)}},St=(t,e,n)=>{var i,s=t.trigger,r={};for(i of(t.trigger=function(){var n=arguments[0];if(-1===e.indexOf(n))return s.apply(t,arguments);r[n]=arguments},n.apply(t,[]),t.trigger=s,e))i in r&&s.apply(t,r[i])},xt=t=>({start:t.selectionStart||0,length:(t.selectionEnd||0)-(t.selectionStart||0)}),Ot=(t,e=!1)=>{t&&(t.preventDefault(),e&&t.stopPropagation())},Ct=(t,e,n,i)=>{t.addEventListener(e,n,i)},At=(t,e)=>!!e&&!!e[t]&&1==(e.altKey?1:0)+(e.ctrlKey?1:0)+(e.shiftKey?1:0)+(e.metaKey?1:0),Et=(t,e)=>{const n=t.getAttribute("id");return n||(t.setAttribute("id",e),e)},_t=t=>t.replace(/[\\"']/g,"\\$&"),kt=(t,e)=>{e&&t.append(e)};function Pt(t,e){var n=Object.assign({},mt,e),i=n.dataAttr,s=n.labelField,r=n.valueField,o=n.disabledField,a=n.optgroupField,l=n.optgroupLabelField,c=n.optgroupValueField,u=t.tagName.toLowerCase(),d=t.getAttribute("placeholder")||t.getAttribute("data-placeholder");if(!d&&!n.allowEmptyOption){let e=t.querySelector('option[value=""]');e&&(d=e.textContent)}var p,h,f,g,m,v,b,y={placeholder:d,options:[],optgroups:[],items:[],maxItems:null},w=()=>{const e=t.getAttribute(i);if(e)y.options=JSON.parse(e),H(y.options,(t=>{y.items.push(t[r])}));else{var o=t.value.trim()||"";if(!n.allowEmptyOption&&!o.length)return;const e=o.split(n.delimiter);H(e,(t=>{const e={};e[s]=t,e[r]=t,y.options.push(e)})),y.items=e}};return"select"===u?(h=y.options,f={},g=1,m=t=>{var e=Object.assign({},t.dataset),n=i&&e[i];return"string"==typeof n&&n.length&&(e=Object.assign(e,JSON.parse(n))),e},v=(t,e)=>{var i=vt(t.value);if(null!=i&&(i||n.allowEmptyOption)){if(f.hasOwnProperty(i)){if(e){var l=f[i][a];l?Array.isArray(l)?l.push(e):f[i][a]=[l,e]:f[i][a]=e}}else{var c=m(t);c[s]=c[s]||t.textContent,c[r]=c[r]||i,c[o]=c[o]||t.disabled,c[a]=c[a]||e,c.$option=t,f[i]=c,h.push(c)}t.selected&&y.items.push(i)}},b=t=>{var e,n;(n=m(t))[l]=n[l]||t.getAttribute("label")||"",n[c]=n[c]||g++,n[o]=n[o]||t.disabled,y.optgroups.push(n),e=n[c],H(t.children,(t=>{v(t,e)}))},y.maxItems=t.hasAttribute("multiple")?null:1,H(t.children,(t=>{"optgroup"===(p=t.tagName.toLowerCase())?b(t):"option"===p&&v(t)}))):w(),Object.assign({},mt,y,e)}var It=0;class Lt extends(n(e)){constructor(t,e){var n;super(),this.control_input=void 0,this.wrapper=void 0,this.dropdown=void 0,this.control=void 0,this.dropdown_content=void 0,this.focus_node=void 0,this.order=0,this.settings=void 0,this.input=void 0,this.tabIndex=void 0,this.is_select_tag=void 0,this.rtl=void 0,this.inputId=void 0,this._destroy=void 0,this.sifter=void 0,this.isOpen=!1,this.isDisabled=!1,this.isRequired=void 0,this.isInvalid=!1,this.isValid=!0,this.isLocked=!1,this.isFocused=!1,this.isInputHidden=!1,this.isSetup=!1,this.ignoreFocus=!1,this.ignoreHover=!1,this.hasOptions=!1,this.currentResults=void 0,this.lastValue="",this.caretPos=0,this.loading=0,this.loadedSearches={},this.activeOption=null,this.activeItems=[],this.optgroups={},this.options={},this.userOptions={},this.items=[],It++;var i=U(t);if(i.tomselect)throw new Error("Tom Select already initialized on this element");i.tomselect=this,n=(window.getComputedStyle&&window.getComputedStyle(i,null)).getPropertyValue("direction");const s=Pt(i,e);this.settings=s,this.input=i,this.tabIndex=i.tabIndex||0,this.is_select_tag="select"===i.tagName.toLowerCase(),this.rtl=/rtl/i.test(n),this.inputId=Et(i,"tomselect-"+It),this.isRequired=i.required,this.sifter=new q(this.options,{diacritics:s.diacritics}),s.mode=s.mode||(1===s.maxItems?"single":"multi"),"boolean"!=typeof s.hideSelected&&(s.hideSelected="multi"===s.mode),"boolean"!=typeof s.hidePlaceholder&&(s.hidePlaceholder="multi"!==s.mode);var r=s.createFilter;"function"!=typeof r&&("string"==typeof r&&(r=new RegExp(r)),r instanceof RegExp?s.createFilter=t=>r.test(t):s.createFilter=t=>this.settings.duplicates||!this.options[t]),this.initializePlugins(s.plugins),this.setupCallbacks(),this.setupTemplates();const o=U("<div>"),a=U("<div>"),l=this._render("dropdown"),c=U('<div role="listbox" tabindex="-1">'),u=this.input.getAttribute("class")||"",d=s.mode;var p;Q(o,s.wrapperClass,u,d),Q(a,s.controlClass),kt(o,a),Q(l,s.dropdownClass,d),s.copyClassesToDropdown&&Q(l,u),Q(c,s.dropdownContentClass),kt(l,c),U(s.dropdownParent||o).appendChild(l),z(s.controlInput)?(p=U(s.controlInput),j(["autocorrect","autocapitalize","autocomplete"],(t=>{i.getAttribute(t)&&et(p,{[t]:i.getAttribute(t)})})),p.tabIndex=-1,a.appendChild(p),this.focus_node=p):s.controlInput?(p=U(s.controlInput),this.focus_node=p):(p=U("<input/>"),this.focus_node=a),this.wrapper=o,this.dropdown=l,this.dropdown_content=c,this.control=a,this.control_input=p,this.setup()}setup(){const t=this,e=t.settings,n=t.control_input,i=t.dropdown,s=t.dropdown_content,r=t.wrapper,o=t.control,l=t.input,c=t.focus_node,u={passive:!0},d=t.inputId+"-ts-dropdown";et(s,{id:d}),et(c,{role:"combobox","aria-haspopup":"listbox","aria-expanded":"false","aria-controls":d});const p=Et(c,t.inputId+"-ts-control"),h="label[for='"+R(t.inputId)+"']",f=document.querySelector(h),g=t.focus.bind(t);if(f){Ct(f,"click",g),et(f,{for:p});const e=Et(f,t.inputId+"-ts-label");et(c,{"aria-labelledby":e}),et(s,{"aria-labelledby":e})}if(r.style.width=l.style.width,t.plugins.names.length){const e="plugin-"+t.plugins.names.join(" plugin-");Q([r,i],e)}(null===e.maxItems||e.maxItems>1)&&t.is_select_tag&&et(l,{multiple:"multiple"}),e.placeholder&&et(n,{placeholder:e.placeholder}),!e.splitOn&&e.delimiter&&(e.splitOn=new RegExp("\\s*"+a(e.delimiter)+"+\\s*")),e.load&&e.loadThrottle&&(e.load=wt(e.load,e.loadThrottle)),t.control_input.type=l.type,Ct(i,"mousemove",(()=>{t.ignoreHover=!1})),Ct(i,"mouseenter",(e=>{var n=J(e.target,"[data-selectable]",i);n&&t.onOptionHover(e,n)}),{capture:!0}),Ct(i,"click",(e=>{const n=J(e.target,"[data-selectable]");n&&(t.onOptionSelect(e,n),Ot(e,!0))})),Ct(o,"click",(e=>{var i=J(e.target,"[data-ts-item]",o);i&&t.onItemSelect(e,i)?Ot(e,!0):""==n.value&&(t.onClick(),Ot(e,!0))})),Ct(c,"keydown",(e=>t.onKeyDown(e))),Ct(n,"keypress",(e=>t.onKeyPress(e))),Ct(n,"input",(e=>t.onInput(e))),Ct(c,"blur",(e=>t.onBlur(e))),Ct(c,"focus",(e=>t.onFocus(e))),Ct(n,"paste",(e=>t.onPaste(e)));const m=e=>{const s=e.composedPath()[0];if(!r.contains(s)&&!i.contains(s))return t.isFocused&&t.blur(),void t.inputState();s==n&&t.isOpen?e.stopPropagation():Ot(e,!0)},v=()=>{t.isOpen&&t.positionDropdown()};Ct(document,"mousedown",m),Ct(window,"scroll",v,u),Ct(window,"resize",v,u),this._destroy=()=>{document.removeEventListener("mousedown",m),window.removeEventListener("scroll",v),window.removeEventListener("resize",v),f&&f.removeEventListener("click",g)},this.revertSettings={innerHTML:l.innerHTML,tabIndex:l.tabIndex},l.tabIndex=-1,l.insertAdjacentElement("afterend",t.wrapper),t.sync(!1),e.items=[],delete e.optgroups,delete e.options,Ct(l,"invalid",(()=>{t.isValid&&(t.isValid=!1,t.isInvalid=!0,t.refreshState())})),t.updateOriginalInput(),t.refreshItems(),t.close(!1),t.inputState(),t.isSetup=!0,l.disabled?t.disable():t.enable(),t.on("change",this.onChange),Q(l,"tomselected","ts-hidden-accessible"),t.trigger("initialize"),!0===e.preload&&t.preload()}setupOptions(t=[],e=[]){this.addOptions(t),j(e,(t=>{this.registerOptionGroup(t)}))}setupTemplates(){var t=this,e=t.settings.labelField,n=t.settings.optgroupLabelField,i={optgroup:t=>{let e=document.createElement("div");return e.className="optgroup",e.appendChild(t.options),e},optgroup_header:(t,e)=>'<div class="optgroup-header">'+e(t[n])+"</div>",option:(t,n)=>"<div>"+n(t[e])+"</div>",item:(t,n)=>"<div>"+n(t[e])+"</div>",option_create:(t,e)=>'<div class="create">Add <strong>'+e(t.input)+"</strong>&hellip;</div>",no_results:()=>'<div class="no-results">No results found</div>',loading:()=>'<div class="spinner"></div>',not_loading:()=>{},dropdown:()=>"<div></div>"};t.settings.render=Object.assign({},i,t.settings.render)}setupCallbacks(){var t,e,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",item_select:"onItemSelect",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(t in n)(e=this.settings[n[t]])&&this.on(t,e)}sync(t=!0){const e=this,n=t?Pt(e.input,{delimiter:e.settings.delimiter}):e.settings;e.setupOptions(n.options,n.optgroups),e.setValue(n.items||[],!0),e.lastQuery=null}onClick(){var t=this;if(t.activeItems.length>0)return t.clearActiveItems(),void t.focus();t.isFocused&&t.isOpen?t.blur():t.focus()}onMouseDown(){}onChange(){B(this.input,"input"),B(this.input,"change")}onPaste(t){var e=this;e.isInputHidden||e.isLocked?Ot(t):e.settings.splitOn&&setTimeout((()=>{var t=e.inputValue();if(t.match(e.settings.splitOn)){var n=t.trim().split(e.settings.splitOn);j(n,(t=>{vt(t)&&(this.options[t]?e.addItem(t):e.createItem(t))}))}}),0)}onKeyPress(t){var e=this;if(!e.isLocked){var n=String.fromCharCode(t.keyCode||t.which);return e.settings.create&&"multi"===e.settings.mode&&n===e.settings.delimiter?(e.createItem(),void Ot(t)):void 0}Ot(t)}onKeyDown(t){var e=this;if(e.ignoreHover=!0,e.isLocked)t.keyCode!==ft&&Ot(t);else{switch(t.keyCode){case rt:if(At(gt,t)&&""==e.control_input.value)return Ot(t),void e.selectAll();break;case at:return e.isOpen&&(Ot(t,!0),e.close()),void e.clearActiveItems();case dt:if(!e.isOpen&&e.hasOptions)e.open();else if(e.activeOption){let t=e.getAdjacent(e.activeOption,1);t&&e.setActiveOption(t)}return void Ot(t);case ct:if(e.activeOption){let t=e.getAdjacent(e.activeOption,-1);t&&e.setActiveOption(t)}return void Ot(t);case ot:return void(e.canSelect(e.activeOption)?(e.onOptionSelect(t,e.activeOption),Ot(t)):(e.settings.create&&e.createItem()||document.activeElement==e.control_input&&e.isOpen)&&Ot(t));case lt:return void e.advanceSelection(-1,t);case ut:return void e.advanceSelection(1,t);case ft:return void(e.settings.selectOnTab&&(e.canSelect(e.activeOption)&&(e.onOptionSelect(t,e.activeOption),Ot(t)),e.settings.create&&e.createItem()&&Ot(t)));case pt:case ht:return void e.deleteSelection(t)}e.isInputHidden&&!At(gt,t)&&Ot(t)}}onInput(t){var e=this;if(!e.isLocked){var n=e.inputValue();e.lastValue!==n&&(e.lastValue=n,e.settings.shouldLoad.call(e,n)&&e.load(n),e.refreshOptions(),e.trigger("type",n))}}onOptionHover(t,e){this.ignoreHover||this.setActiveOption(e,!1)}onFocus(t){var e=this,n=e.isFocused;if(e.isDisabled)return e.blur(),void Ot(t);e.ignoreFocus||(e.isFocused=!0,"focus"===e.settings.preload&&e.preload(),n||e.trigger("focus"),e.activeItems.length||(e.showInput(),e.refreshOptions(!!e.settings.openOnFocus)),e.refreshState())}onBlur(t){if(!1!==document.hasFocus()){var e=this;if(e.isFocused){e.isFocused=!1,e.ignoreFocus=!1;var n=()=>{e.close(),e.setActiveItem(),e.setCaret(e.items.length),e.trigger("blur")};e.settings.create&&e.settings.createOnBlur?e.createItem(null,n):n()}}}onOptionSelect(t,e){var n,i=this;e.parentElement&&e.parentElement.matches("[data-disabled]")||(e.classList.contains("create")?i.createItem(null,(()=>{i.settings.closeAfterSelect&&i.close()})):void 0!==(n=e.dataset.value)&&(i.lastQuery=null,i.addItem(n),i.settings.closeAfterSelect&&i.close(),!i.settings.hideSelected&&t.type&&/click/.test(t.type)&&i.setActiveOption(e)))}canSelect(t){return!!(this.isOpen&&t&&this.dropdown_content.contains(t))}onItemSelect(t,e){var n=this;return!n.isLocked&&"multi"===n.settings.mode&&(Ot(t),n.setActiveItem(e,t),!0)}canLoad(t){return!!this.settings.load&&!this.loadedSearches.hasOwnProperty(t)}load(t){const e=this;if(!e.canLoad(t))return;Q(e.wrapper,e.settings.loadingClass),e.loading++;const n=e.loadCallback.bind(e);e.settings.load.call(e,t,n)}loadCallback(t,e){const n=this;n.loading=Math.max(n.loading-1,0),n.lastQuery=null,n.clearActiveOption(),n.setupOptions(t,e),n.refreshOptions(n.isFocused&&!n.isInputHidden),n.loading||G(n.wrapper,n.settings.loadingClass),n.trigger("load",t,e)}preload(){var t=this.wrapper.classList;t.contains("preloaded")||(t.add("preloaded"),this.load(""))}setTextboxValue(t=""){var e=this.control_input;e.value!==t&&(e.value=t,B(e,"update"),this.lastValue=t)}getValue(){return this.is_select_tag&&this.input.hasAttribute("multiple")?this.items:this.items.join(this.settings.delimiter)}setValue(t,e){St(this,e?[]:["change"],(()=>{this.clear(e),this.addItems(t,e)}))}setMaxItems(t){0===t&&(t=null),this.settings.maxItems=t,this.refreshState()}setActiveItem(t,e){var n,i,s,r,o,a,l=this;if("single"!==l.settings.mode){if(!t)return l.clearActiveItems(),void(l.isFocused&&l.showInput());if("click"===(n=e&&e.type.toLowerCase())&&At("shiftKey",e)&&l.activeItems.length){for(a=l.getLastActive(),(s=Array.prototype.indexOf.call(l.control.children,a))>(r=Array.prototype.indexOf.call(l.control.children,t))&&(o=s,s=r,r=o),i=s;i<=r;i++)t=l.control.children[i],-1===l.activeItems.indexOf(t)&&l.setActiveItemClass(t);Ot(e)}else"click"===n&&At(gt,e)||"keydown"===n&&At("shiftKey",e)?t.classList.contains("active")?l.removeActiveItem(t):l.setActiveItemClass(t):(l.clearActiveItems(),l.setActiveItemClass(t));l.hideInput(),l.isFocused||l.focus()}}setActiveItemClass(t){const e=this,n=e.control.querySelector(".last-active");n&&G(n,"last-active"),Q(t,"active last-active"),e.trigger("item_select",t),-1==e.activeItems.indexOf(t)&&e.activeItems.push(t)}removeActiveItem(t){var e=this.activeItems.indexOf(t);this.activeItems.splice(e,1),G(t,"active")}clearActiveItems(){G(this.activeItems,"active"),this.activeItems=[]}setActiveOption(t,e=!0){t!==this.activeOption&&(this.clearActiveOption(),t&&(this.activeOption=t,et(this.focus_node,{"aria-activedescendant":t.getAttribute("id")}),et(t,{"aria-selected":"true"}),Q(t,"active"),e&&this.scrollToOption(t)))}scrollToOption(t,e){if(!t)return;const n=this.dropdown_content,i=n.clientHeight,s=n.scrollTop||0,r=t.offsetHeight,o=t.getBoundingClientRect().top-n.getBoundingClientRect().top+s;o+r>i+s?this.scroll(o-i+r,e):o<s&&this.scroll(o,e)}scroll(t,e){const n=this.dropdown_content;e&&(n.style.scrollBehavior=e),n.scrollTop=t,n.style.scrollBehavior=""}clearActiveOption(){this.activeOption&&(G(this.activeOption,"active"),et(this.activeOption,{"aria-selected":null})),this.activeOption=null,et(this.focus_node,{"aria-activedescendant":null})}selectAll(){const t=this;if("single"===t.settings.mode)return;const e=t.controlChildren();e.length&&(t.hideInput(),t.close(),t.activeItems=e,j(e,(e=>{t.setActiveItemClass(e)})))}inputState(){var t=this;t.control.contains(t.control_input)&&(et(t.control_input,{placeholder:t.settings.placeholder}),t.activeItems.length>0||!t.isFocused&&t.settings.hidePlaceholder&&t.items.length>0?(t.setTextboxValue(),t.isInputHidden=!0):(t.settings.hidePlaceholder&&t.items.length>0&&et(t.control_input,{placeholder:""}),t.isInputHidden=!1),t.wrapper.classList.toggle("input-hidden",t.isInputHidden))}hideInput(){this.inputState()}showInput(){this.inputState()}inputValue(){return this.control_input.value.trim()}focus(){var t=this;t.isDisabled||(t.ignoreFocus=!0,t.control_input.offsetWidth?t.control_input.focus():t.focus_node.focus(),setTimeout((()=>{t.ignoreFocus=!1,t.onFocus()}),0))}blur(){this.focus_node.blur(),this.onBlur()}getScoreFunction(t){return this.sifter.getScoreFunction(t,this.getSearchOptions())}getSearchOptions(){var t=this.settings,e=t.sortField;return"string"==typeof t.sortField&&(e=[{field:t.sortField}]),{fields:t.searchField,conjunction:t.searchConjunction,sort:e,nesting:t.nesting}}search(t){var e,n,i=this,s=this.getSearchOptions();if(i.settings.score&&"function"!=typeof(n=i.settings.score.call(i,t)))throw new Error('Tom Select "score" setting must be a function that returns a function');return t!==i.lastQuery?(i.lastQuery=t,e=i.sifter.search(t,Object.assign(s,{score:n})),i.currentResults=e):e=Object.assign({},i.currentResults),i.settings.hideSelected&&(e.items=e.items.filter((t=>{let e=vt(t.id);return!(e&&-1!==i.items.indexOf(e))}))),e}refreshOptions(t=!0){var e,n,i,s,r,o,a,l,c,u;const d={},p=[];var h=this,f=h.inputValue();const g=f===h.lastQuery||""==f&&null==h.lastQuery;var m=h.search(f),v=null,b=h.settings.shouldOpen||!1,y=h.dropdown_content;for(g&&(v=h.activeOption)&&(c=v.closest("[data-group]")),s=m.items.length,"number"==typeof h.settings.maxOptions&&(s=Math.min(s,h.settings.maxOptions)),s>0&&(b=!0),e=0;e<s;e++){let t=m.items[e];if(!t)continue;let s=t.id,a=h.options[s];if(void 0===a)continue;let l=bt(s),u=h.getOption(l,!0);for(h.settings.hideSelected||u.classList.toggle("selected",h.items.includes(l)),r=a[h.settings.optgroupField]||"",n=0,i=(o=Array.isArray(r)?r:[r])&&o.length;n<i;n++){r=o[n],h.optgroups.hasOwnProperty(r)||(r="");let t=d[r];void 0===t&&(t=document.createDocumentFragment(),p.push(r)),n>0&&(u=u.cloneNode(!0),et(u,{id:a.$id+"-clone-"+n,"aria-selected":null}),u.classList.add("ts-cloned"),G(u,"active"),h.activeOption&&h.activeOption.dataset.value==s&&c&&c.dataset.group===r.toString()&&(v=u)),t.appendChild(u),d[r]=t}}h.settings.lockOptgroupOrder&&p.sort(((t,e)=>{const n=h.optgroups[t],i=h.optgroups[e];return(n&&n.$order||0)-(i&&i.$order||0)})),a=document.createDocumentFragment(),j(p,(t=>{let e=d[t];if(!e||!e.children.length)return;let n=h.optgroups[t];if(void 0!==n){let t=document.createDocumentFragment(),i=h.render("optgroup_header",n);kt(t,i),kt(t,e);let s=h.render("optgroup",{group:n,options:t});kt(a,s)}else kt(a,e)})),y.innerHTML="",kt(y,a),h.settings.highlight&&(st(y),m.query.length&&m.tokens.length&&j(m.tokens,(t=>{it(y,t.regex)})));var w=t=>{let e=h.render(t,{input:f});return e&&(b=!0,y.insertBefore(e,y.firstChild)),e};if(h.loading?w("loading"):h.settings.shouldLoad.call(h,f)?0===m.items.length&&w("no_results"):w("not_loading"),(l=h.canCreate(f))&&(u=w("option_create")),h.hasOptions=m.items.length>0||l,b){if(m.items.length>0){if(v||"single"!==h.settings.mode||null==h.items[0]||(v=h.getOption(h.items[0])),!y.contains(v)){let t=0;u&&!h.settings.addPrecedence&&(t=1),v=h.selectable()[t]}}else u&&(v=u);t&&!h.isOpen&&(h.open(),h.scrollToOption(v,"auto")),h.setActiveOption(v)}else h.clearActiveOption(),t&&h.isOpen&&h.close(!1)}selectable(){return this.dropdown_content.querySelectorAll("[data-selectable]")}addOption(t,e=!1){const n=this;if(Array.isArray(t))return n.addOptions(t,e),!1;const i=vt(t[n.settings.valueField]);return null!==i&&!n.options.hasOwnProperty(i)&&(t.$order=t.$order||++n.order,t.$id=n.inputId+"-opt-"+t.$order,n.options[i]=t,n.lastQuery=null,e&&(n.userOptions[i]=e,n.trigger("option_add",i,t)),i)}addOptions(t,e=!1){j(t,(t=>{this.addOption(t,e)}))}registerOption(t){return this.addOption(t)}registerOptionGroup(t){var e=vt(t[this.settings.optgroupValueField]);return null!==e&&(t.$order=t.$order||++this.order,this.optgroups[e]=t,e)}addOptionGroup(t,e){var n;e[this.settings.optgroupValueField]=t,(n=this.registerOptionGroup(e))&&this.trigger("optgroup_add",n,e)}removeOptionGroup(t){this.optgroups.hasOwnProperty(t)&&(delete this.optgroups[t],this.clearCache(),this.trigger("optgroup_remove",t))}clearOptionGroups(){this.optgroups={},this.clearCache(),this.trigger("optgroup_clear")}updateOption(t,e){const n=this;var i,s;const r=vt(t),o=vt(e[n.settings.valueField]);if(null===r)return;const a=n.options[r];if(null==a)return;if("string"!=typeof o)throw new Error("Value must be set in option data");const l=n.getOption(r),c=n.getItem(r);if(e.$order=e.$order||a.$order,delete n.options[r],n.uncacheValue(o),n.options[o]=e,l){if(n.dropdown_content.contains(l)){const t=n._render("option",e);nt(l,t),n.activeOption===l&&n.setActiveOption(t)}l.remove()}c&&(-1!==(s=n.items.indexOf(r))&&n.items.splice(s,1,o),i=n._render("item",e),c.classList.contains("active")&&Q(i,"active"),nt(c,i)),n.lastQuery=null}removeOption(t,e){const n=this;t=bt(t),n.uncacheValue(t),delete n.userOptions[t],delete n.options[t],n.lastQuery=null,n.trigger("option_remove",t),n.removeItem(t,e)}clearOptions(t){const e=(t||this.clearFilter).bind(this);this.loadedSearches={},this.userOptions={},this.clearCache();const n={};j(this.options,((t,i)=>{e(t,i)&&(n[i]=t)})),this.options=this.sifter.items=n,this.lastQuery=null,this.trigger("option_clear")}clearFilter(t,e){return this.items.indexOf(e)>=0}getOption(t,e=!1){const n=vt(t);if(null===n)return null;const i=this.options[n];if(null!=i){if(i.$div)return i.$div;if(e)return this._render("option",i)}return null}getAdjacent(t,e,n="option"){var i,s=this;if(!t)return null;i="item"==n?s.controlChildren():s.dropdown_content.querySelectorAll("[data-selectable]");for(let n=0;n<i.length;n++)if(i[n]==t)return e>0?i[n+1]:i[n-1];return null}getItem(t){if("object"==typeof t)return t;var e=vt(t);return null!==e?this.control.querySelector(`[data-value="${_t(e)}"]`):null}addItems(t,e){var n=this,i=Array.isArray(t)?t:[t];const s=(i=i.filter((t=>-1===n.items.indexOf(t))))[i.length-1];i.forEach((t=>{n.isPending=t!==s,n.addItem(t,e)}))}addItem(t,e){St(this,e?[]:["change","dropdown_close"],(()=>{var n,i;const s=this,r=s.settings.mode,o=vt(t);if((!o||-1===s.items.indexOf(o)||("single"===r&&s.close(),"single"!==r&&s.settings.duplicates))&&null!==o&&s.options.hasOwnProperty(o)&&("single"===r&&s.clear(e),"multi"!==r||!s.isFull())){if(n=s._render("item",s.options[o]),s.control.contains(n)&&(n=n.cloneNode(!0)),i=s.isFull(),s.items.splice(s.caretPos,0,o),s.insertAtCaret(n),s.isSetup){if(!s.isPending&&s.settings.hideSelected){let t=s.getOption(o),e=s.getAdjacent(t,1);e&&s.setActiveOption(e)}s.isPending||s.settings.closeAfterSelect||s.refreshOptions(s.isFocused&&"single"!==r),0!=s.settings.closeAfterSelect&&s.isFull()?s.close():s.isPending||s.positionDropdown(),s.trigger("item_add",o,n),s.isPending||s.updateOriginalInput({silent:e})}(!s.isPending||!i&&s.isFull())&&(s.inputState(),s.refreshState())}}))}removeItem(t=null,e){const n=this;if(!(t=n.getItem(t)))return;var i,s;const r=t.dataset.value;i=tt(t),t.remove(),t.classList.contains("active")&&(s=n.activeItems.indexOf(t),n.activeItems.splice(s,1),G(t,"active")),n.items.splice(i,1),n.lastQuery=null,!n.settings.persist&&n.userOptions.hasOwnProperty(r)&&n.removeOption(r,e),i<n.caretPos&&n.setCaret(n.caretPos-1),n.updateOriginalInput({silent:e}),n.refreshState(),n.positionDropdown(),n.trigger("item_remove",r,t)}createItem(t=null,e=(()=>{})){3===arguments.length&&(e=arguments[2]),"function"!=typeof e&&(e=()=>{});var n,i=this,s=i.caretPos;if(t=t||i.inputValue(),!i.canCreate(t))return e(),!1;i.lock();var r=!1,o=t=>{if(i.unlock(),!t||"object"!=typeof t)return e();var n=vt(t[i.settings.valueField]);if("string"!=typeof n)return e();i.setTextboxValue(),i.addOption(t,!0),i.setCaret(s),i.addItem(n),e(t),r=!0};return n="function"==typeof i.settings.create?i.settings.create.call(this,t,o):{[i.settings.labelField]:t,[i.settings.valueField]:t},r||o(n),!0}refreshItems(){var t=this;t.lastQuery=null,t.isSetup&&t.addItems(t.items),t.updateOriginalInput(),t.refreshState()}refreshState(){const t=this;t.refreshValidityState();const e=t.isFull(),n=t.isLocked;t.wrapper.classList.toggle("rtl",t.rtl);const i=t.wrapper.classList;i.toggle("focus",t.isFocused),i.toggle("disabled",t.isDisabled),i.toggle("required",t.isRequired),i.toggle("invalid",!t.isValid),i.toggle("locked",n),i.toggle("full",e),i.toggle("input-active",t.isFocused&&!t.isInputHidden),i.toggle("dropdown-active",t.isOpen),i.toggle("has-options",Z(t.options)),i.toggle("has-items",t.items.length>0)}refreshValidityState(){var t=this;t.input.validity&&(t.isValid=t.input.validity.valid,t.isInvalid=!t.isValid)}isFull(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems}updateOriginalInput(t={}){const e=this;var n,i;const s=e.input.querySelector('option[value=""]');if(e.is_select_tag){const r=[],o=e.input.querySelectorAll("option:checked").length;function a(t,n,i){return t||(t=U('<option value="'+yt(n)+'">'+yt(i)+"</option>")),t!=s&&e.input.append(t),r.push(t),(t!=s||o>0)&&(t.selected=!0),t}e.input.querySelectorAll("option:checked").forEach((t=>{t.selected=!1})),0==e.items.length&&"single"==e.settings.mode?a(s,"",""):e.items.forEach((t=>{n=e.options[t],i=n[e.settings.labelField]||"",r.includes(n.$option)?a(e.input.querySelector(`option[value="${_t(t)}"]:not(:checked)`),t,i):n.$option=a(n.$option,t,i)}))}else e.input.value=e.getValue();e.isSetup&&(t.silent||e.trigger("change",e.getValue()))}open(){var t=this;t.isLocked||t.isOpen||"multi"===t.settings.mode&&t.isFull()||(t.isOpen=!0,et(t.focus_node,{"aria-expanded":"true"}),t.refreshState(),K(t.dropdown,{visibility:"hidden",display:"block"}),t.positionDropdown(),K(t.dropdown,{visibility:"visible",display:"block"}),t.focus(),t.trigger("dropdown_open",t.dropdown))}close(t=!0){var e=this,n=e.isOpen;t&&(e.setTextboxValue(),"single"===e.settings.mode&&e.items.length&&e.hideInput()),e.isOpen=!1,et(e.focus_node,{"aria-expanded":"false"}),K(e.dropdown,{display:"none"}),e.settings.hideSelected&&e.clearActiveOption(),e.refreshState(),n&&e.trigger("dropdown_close",e.dropdown)}positionDropdown(){if("body"===this.settings.dropdownParent){var t=this.control,e=t.getBoundingClientRect(),n=t.offsetHeight+e.top+window.scrollY,i=e.left+window.scrollX;K(this.dropdown,{width:e.width+"px",top:n+"px",left:i+"px"})}}clear(t){var e=this;if(e.items.length){var n=e.controlChildren();j(n,(t=>{e.removeItem(t,!0)})),e.showInput(),t||e.updateOriginalInput(),e.trigger("clear")}}insertAtCaret(t){const e=this,n=e.caretPos,i=e.control;i.insertBefore(t,i.children[n]||null),e.setCaret(n+1)}deleteSelection(t){var e,n,i,s,r=this;e=t&&t.keyCode===pt?-1:1,n=xt(r.control_input);const o=[];if(r.activeItems.length)s=W(r.activeItems,e),i=tt(s),e>0&&i++,j(r.activeItems,(t=>o.push(t)));else if((r.isFocused||"single"===r.settings.mode)&&r.items.length){const t=r.controlChildren();let i;e<0&&0===n.start&&0===n.length?i=t[r.caretPos-1]:e>0&&n.start===r.inputValue().length&&(i=t[r.caretPos]),void 0!==i&&o.push(i)}if(!r.shouldDelete(o,t))return!1;for(Ot(t,!0),void 0!==i&&r.setCaret(i);o.length;)r.removeItem(o.pop());return r.showInput(),r.positionDropdown(),r.refreshOptions(!1),!0}shouldDelete(t,e){const n=t.map((t=>t.dataset.value));return!(!n.length||"function"==typeof this.settings.onDelete&&!1===this.settings.onDelete(n,e))}advanceSelection(t,e){var n,i,s=this;s.rtl&&(t*=-1),s.inputValue().length||(At(gt,e)||At("shiftKey",e)?(i=(n=s.getLastActive(t))?n.classList.contains("active")?s.getAdjacent(n,t,"item"):n:t>0?s.control_input.nextElementSibling:s.control_input.previousElementSibling)&&(i.classList.contains("active")&&s.removeActiveItem(n),s.setActiveItemClass(i)):s.moveCaret(t))}moveCaret(t){}getLastActive(t){let e=this.control.querySelector(".last-active");if(e)return e;var n=this.control.querySelectorAll(".active");return n?W(n,t):void 0}setCaret(t){this.caretPos=this.items.length}controlChildren(){return Array.from(this.control.querySelectorAll("[data-ts-item]"))}lock(){this.isLocked=!0,this.refreshState()}unlock(){this.isLocked=!1,this.refreshState()}disable(){var t=this;t.input.disabled=!0,t.control_input.disabled=!0,t.focus_node.tabIndex=-1,t.isDisabled=!0,this.close(),t.lock()}enable(){var t=this;t.input.disabled=!1,t.control_input.disabled=!1,t.focus_node.tabIndex=t.tabIndex,t.isDisabled=!1,t.unlock()}destroy(){var t=this,e=t.revertSettings;t.trigger("destroy"),t.off(),t.wrapper.remove(),t.dropdown.remove(),t.input.innerHTML=e.innerHTML,t.input.tabIndex=e.tabIndex,G(t.input,"tomselected","ts-hidden-accessible"),t._destroy(),delete t.input.tomselect}render(t,e){var n,i;const s=this;if("function"!=typeof this.settings.render[t])return null;if(!(i=s.settings.render[t].call(this,e,yt)))return null;if(i=U(i),"option"===t||"option_create"===t?e[s.settings.disabledField]?et(i,{"aria-disabled":"true"}):et(i,{"data-selectable":""}):"optgroup"===t&&(n=e.group[s.settings.optgroupValueField],et(i,{"data-group":n}),e.group[s.settings.disabledField]&&et(i,{"data-disabled":""})),"option"===t||"item"===t){const n=bt(e[s.settings.valueField]);et(i,{"data-value":n}),"item"===t?(Q(i,s.settings.itemClass),et(i,{"data-ts-item":""})):(Q(i,s.settings.optionClass),et(i,{role:"option",id:e.$id}),e.$div=i,s.options[n]=e)}return i}_render(t,e){const n=this.render(t,e);if(null==n)throw"HTMLElement expected";return n}clearCache(){j(this.options,(t=>{t.$div&&(t.$div.remove(),delete t.$div)}))}uncacheValue(t){const e=this.getOption(t);e&&e.remove()}canCreate(t){return this.settings.create&&t.length>0&&this.settings.createFilter.call(this,t)}hook(t,e,n){var i=this,s=i[e];i[e]=function(){var e,r;return"after"===t&&(e=s.apply(i,arguments)),r=n.apply(i,arguments),"instead"===t?r:("before"===t&&(e=s.apply(i,arguments)),e)}}}function Ft(){Ct(this.input,"change",(()=>{this.sync()}))}function Nt(){var t=this,e=t.onOptionSelect;t.settings.hideSelected=!1;var n=function(t){setTimeout((()=>{var e=t.querySelector("input");e instanceof HTMLInputElement&&(t.classList.contains("selected")?e.checked=!0:e.checked=!1)}),1)};t.hook("after","setupTemplates",(()=>{var e=t.settings.render.option;t.settings.render.option=(n,i)=>{var s=U(e.call(t,n,i)),r=document.createElement("input");r.addEventListener("click",(function(t){Ot(t)})),r.type="checkbox";const o=vt(n[t.settings.valueField]);return o&&t.items.indexOf(o)>-1&&(r.checked=!0),s.prepend(r),s}})),t.on("item_remove",(e=>{var i=t.getOption(e);i&&(i.classList.remove("selected"),n(i))})),t.on("item_add",(e=>{var i=t.getOption(e);i&&n(i)})),t.hook("instead","onOptionSelect",((i,s)=>{if(s.classList.contains("selected"))return s.classList.remove("selected"),t.removeItem(s.dataset.value),t.refreshOptions(),void Ot(i,!0);e.call(t,i,s),n(s)}))}function Vt(t){const e=this,n=Object.assign({className:"clear-button",title:"Clear All",html:t=>`<div class="${t.className}" title="${t.title}">&#10799;</div>`},t);e.on("initialize",(()=>{var t=U(n.html(n));t.addEventListener("click",(t=>{e.isDisabled||(e.clear(),"single"===e.settings.mode&&e.settings.allowEmptyOption&&e.addItem(""),t.preventDefault(),t.stopPropagation())})),e.control.appendChild(t)}))}function Mt(){var t=this;if(!$.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===t.settings.mode){var e=t.lock,n=t.unlock;t.hook("instead","lock",(()=>{var n=$(t.control).data("sortable");return n&&n.disable(),e.call(t)})),t.hook("instead","unlock",(()=>{var e=$(t.control).data("sortable");return e&&e.enable(),n.call(t)})),t.on("initialize",(()=>{var e=$(t.control).sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:t.isLocked,start:(t,n)=>{n.placeholder.css("width",n.helper.css("width")),e.css({overflow:"visible"})},stop:()=>{e.css({overflow:"hidden"});var n=[];e.children("[data-value]").each((function(){this.dataset.value&&n.push(this.dataset.value)})),t.setValue(n)}})}))}}function Tt(t){const e=this,n=Object.assign({title:"Untitled",headerClass:"dropdown-header",titleRowClass:"dropdown-header-title",labelClass:"dropdown-header-label",closeClass:"dropdown-header-close",html:t=>'<div class="'+t.headerClass+'"><div class="'+t.titleRowClass+'"><span class="'+t.labelClass+'">'+t.title+'</span><a class="'+t.closeClass+'">&times;</a></div></div>'},t);e.on("initialize",(()=>{var t=U(n.html(n)),i=t.querySelector("."+n.closeClass);i&&i.addEventListener("click",(t=>{Ot(t,!0),e.close()})),e.dropdown.insertBefore(t,e.dropdown.firstChild)}))}function jt(){var t=this;t.hook("instead","setCaret",(e=>{"single"!==t.settings.mode&&t.control.contains(t.control_input)?(e=Math.max(0,Math.min(t.items.length,e)))==t.caretPos||t.isPending||t.controlChildren().forEach(((n,i)=>{i<e?t.control_input.insertAdjacentElement("beforebegin",n):t.control.appendChild(n)})):e=t.items.length,t.caretPos=e})),t.hook("instead","moveCaret",(e=>{if(!t.isFocused)return;const n=t.getLastActive(e);if(n){const i=tt(n);t.setCaret(e>0?i+1:i),t.setActiveItem(),G(n,"last-active")}else t.setCaret(t.caretPos+e)}))}function Dt(){const t=this;t.settings.shouldOpen=!0,t.hook("before","setup",(()=>{t.focus_node=t.control,Q(t.control_input,"dropdown-input");const e=U('<div class="dropdown-input-wrap">');e.append(t.control_input),t.dropdown.insertBefore(e,t.dropdown.firstChild);const n=U('<input class="items-placeholder" tabindex="-1" />');n.placeholder=t.settings.placeholder||"",t.control.append(n)})),t.on("initialize",(()=>{t.control_input.addEventListener("keydown",(e=>{switch(e.keyCode){case at:return t.isOpen&&(Ot(e,!0),t.close()),void t.clearActiveItems();case ft:t.focus_node.tabIndex=-1}return t.onKeyDown.call(t,e)})),t.on("blur",(()=>{t.focus_node.tabIndex=t.isDisabled?-1:t.tabIndex})),t.on("dropdown_open",(()=>{t.control_input.focus()}));const e=t.onBlur;t.hook("instead","onBlur",(n=>{if(!n||n.relatedTarget!=t.control_input)return e.call(t)})),Ct(t.control_input,"blur",(()=>t.onBlur())),t.hook("before","close",(()=>{t.isOpen&&t.focus_node.focus({preventScroll:!0})}))}))}function qt(){var t=this;t.on("initialize",(()=>{var e=document.createElement("span"),n=t.control_input;e.style.cssText="position:absolute; top:-99999px; left:-99999px; width:auto; padding:0; white-space:pre; ",t.wrapper.appendChild(e);var i=["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"];for(const t of i)e.style[t]=n.style[t];var s=()=>{e.textContent=n.value,n.style.width=e.clientWidth+"px"};s(),t.on("update item_add item_remove",s),Ct(n,"input",s),Ct(n,"keyup",s),Ct(n,"blur",s),Ct(n,"update",s)}))}function Ht(){var t=this,e=t.deleteSelection;this.hook("instead","deleteSelection",(n=>!!t.activeItems.length&&e.call(t,n)))}function Ut(){this.hook("instead","setActiveItem",(()=>{})),this.hook("instead","selectAll",(()=>{}))}function zt(){var t=this,e=t.onKeyDown;t.hook("instead","onKeyDown",(n=>{var i,s,r,o;if(!t.isOpen||n.keyCode!==lt&&n.keyCode!==ut)return e.call(t,n);t.ignoreHover=!0,o=J(t.activeOption,"[data-group]"),i=tt(t.activeOption,"[data-selectable]"),o&&(o=n.keyCode===lt?o.previousSibling:o.nextSibling)&&(s=(r=o.querySelectorAll("[data-selectable]"))[Math.min(r.length-1,i)])&&t.setActiveOption(s)}))}function $t(t){const e=Object.assign({label:"&times;",title:"Remove",className:"remove",append:!0},t);var n=this;if(e.append){var i='<a href="javascript:void(0)" class="'+e.className+'" tabindex="-1" title="'+yt(e.title)+'">'+e.label+"</a>";n.hook("after","setupTemplates",(()=>{var t=n.settings.render.item;n.settings.render.item=(e,s)=>{var r=U(t.call(n,e,s)),o=U(i);return r.appendChild(o),Ct(o,"mousedown",(t=>{Ot(t,!0)})),Ct(o,"click",(t=>{Ot(t,!0),n.isLocked||n.shouldDelete([r],t)&&(n.removeItem(r),n.refreshOptions(!1),n.inputState())})),r}}))}}function Rt(t){const e=this,n=Object.assign({text:t=>t[e.settings.labelField]},t);e.on("item_remove",(function(t){if(e.isFocused&&""===e.control_input.value.trim()){var i=e.options[t];i&&e.setTextboxValue(n.text.call(e,i))}}))}function Bt(){const t=this,e=t.canLoad,n=t.clearActiveOption,i=t.loadCallback;var s,r,o={},a=!1,l=[];if(t.settings.shouldLoadMore||(t.settings.shouldLoadMore=()=>{if(s.clientHeight/(s.scrollHeight-s.scrollTop)>.9)return!0;if(t.activeOption){var e=t.selectable();if(Array.from(e).indexOf(t.activeOption)>=e.length-2)return!0}return!1}),!t.settings.firstUrl)throw"virtual_scroll plugin requires a firstUrl() method";t.settings.sortField=[{field:"$order"},{field:"$score"}];const c=e=>!("number"==typeof t.settings.maxOptions&&s.children.length>=t.settings.maxOptions||!(e in o)||!o[e]),u=(e,n)=>t.items.indexOf(n)>=0||l.indexOf(n)>=0;t.setNextUrl=(t,e)=>{o[t]=e},t.getUrl=e=>{if(e in o){const t=o[e];return o[e]=!1,t}return o={},t.settings.firstUrl.call(t,e)},t.hook("instead","clearActiveOption",(()=>{if(!a)return n.call(t)})),t.hook("instead","canLoad",(n=>n in o?c(n):e.call(t,n))),t.hook("instead","loadCallback",((e,n)=>{if(a){if(r){const n=e[0];void 0!==n&&(r.dataset.value=n[t.settings.valueField])}}else t.clearOptions(u);i.call(t,e,n),a=!1})),t.hook("after","refreshOptions",(()=>{const e=t.lastValue;var n;c(e)?(n=t.render("loading_more",{query:e}))&&(n.setAttribute("data-selectable",""),r=n):e in o&&!s.querySelector(".no-results")&&(n=t.render("no_more_results",{query:e})),n&&(Q(n,t.settings.optionClass),s.append(n))})),t.on("initialize",(()=>{l=Object.keys(t.options),s=t.dropdown_content,t.settings.render=Object.assign({},{loading_more:()=>'<div class="loading-more-results">Loading more results ... </div>',no_more_results:()=>'<div class="no-more-results">No more results</div>'},t.settings.render),s.addEventListener("scroll",(()=>{t.settings.shouldLoadMore.call(t)&&c(t.lastValue)&&(a||(a=!0,t.load.call(t,t.lastValue)))}))}))}return Lt.define("change_listener",Ft),Lt.define("checkbox_options",Nt),Lt.define("clear_button",Vt),Lt.define("drag_drop",Mt),Lt.define("dropdown_header",Tt),Lt.define("caret_position",jt),Lt.define("dropdown_input",Dt),Lt.define("input_autogrow",qt),Lt.define("no_backspace_delete",Ht),Lt.define("no_active_items",Ut),Lt.define("optgroup_columns",zt),Lt.define("remove_button",$t),Lt.define("restore_on_backspace",Rt),Lt.define("virtual_scroll",Bt),Lt}()}},e={};function n(i){var s=e[i];if(void 0!==s)return s.exports;var r=e[i]={exports:{}};return t[i].call(r.exports,r,r.exports,n),r.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){"use strict";var t=n(945),e=n.n(t);var i=n(344),s=n.n(i);document.addEventListener("DOMContentLoaded",(()=>{!function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".js-navbar",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".js-nav-open",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".js-nav-close";const i=document.querySelector(t),s=document.querySelector(e),r=document.querySelector(n);s.addEventListener("click",(()=>{i.classList.add("active")})),r.addEventListener("click",(()=>{i.classList.remove("active")}))}(),function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".js-select";document.querySelectorAll(t).forEach((t=>{new(e())(t,{plugins:["dropdown_header"].clear_button,create:!1,searchField:null})}))}(),function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".js-range";document.querySelectorAll(t).forEach((t=>{s().create(t,{start:[75],step:5,range:{min:0,max:100}}),t.noUiSlider.on("update",(t=>{document.querySelector(".js-range-value").textContent=`${Math.round(t)} %`}))}))}(),function(){var t;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".js-file-upload",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".js-file-select",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".js-file",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".js-file-list";if(!document.querySelector(e))return;const r=document.querySelector(n),o=document.querySelector(i),a=document.querySelector(s);let l;function c(){if(l=this.files,l.length){a.innerHTML="";const t=document.createElement("ul");t.classList.add("file-list"),a.appendChild(t);for(let e=0;e<l.length;e++){const n=document.createElement("li");n.classList.add("file-list__item"),t.appendChild(n);const i=document.createElement("span");i.innerHTML=l[e].name,n.appendChild(i);const s=document.createElement("button");s.id="fileRemove",s.classList.add("btn","btn--icon"),s.innerHTML="Удалить файл",n.appendChild(s),n.addEventListener("click",(t=>{t.preventDefault(),t.target.parentNode.closest(".btn")&&(o.value=null,n.remove(),a.innerHTML="<p>Файл не выбран</p>")}),!1)}}else a.innerHTML="<p>Файл не выбран</p>"}null!==(t=l)&&void 0!==t&&t.length||(a.innerHTML="<p>Файл не выбран</p>"),r.addEventListener("click",(t=>{t.preventDefault(),o&&o.click()}),!1),o.addEventListener("change",c,!1)}()}))}()}();